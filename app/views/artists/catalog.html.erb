<div class="relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden">
<div class="bg-white shadow-lg rounded-sm border border-slate-200 w-full">
  <div class="px-5 py-4 border-b border-slate-100">
    <%= form_tag artists_catalog_path, method: :get, class: "form-inline" do %>
      <%= text_field_tag :search, params[:search], placeholder: 'Search for artists..', class: "inline block w-1/4 p-4 pl-4 text-sm text-gray-900 border border-gray-300 rounded-lg bg-slate-50" %>
      <%= number_field_tag :year, params[:year], placeholder: 'Year', in: 1900..2030, class: "inline block w-1/12 p-4 pl-4 text-sm text-gray-900 border border-gray-300 rounded-lg bg-slate-50" %>
      <%= submit_tag 'Search', name: nil, hidden: true %>
    <% end %>
  </div>
</div>

<div class="grid gap-4 grid-cols-3 pt-4">
  <% @artists.each do |artist| %>
    <div class="container bg-white shadow-lg rounded-sm border border-slate-200">
      <div class="p-3">
        <div class="overflow-x-auto">
          <h2>
            <div class="w-10 h-15 shrink-0 mr-2 sm:mr-3">
              <img class="rounded-full" src="https://live-production.wcms.abc-cdn.net.au/05fd760dfa4f582959e4a9f190a69b06?impolicy=wcms_crop_resize&cropH=675&cropW=1199&xPos=0&yPos=0&width=862&height=485" />
            </div>
            <div class="font-medium text-slate-800"><%= artist.name %></div>
          </h2>
          <% artist.releases.each do |release|%>
            <table class="table-auto w-full">
              <thead class="text-xs font-semibold uppercase text-slate-400 bg-slate-50">
                <tr>
                  <th class="p-2 whitespace-nowrap">
                    <div class="font-semibold text-left"><%= release.title %> (<%= release.year %>)</div>
                  </th>
                </tr>
              </thead>
              <tbody class="text-sm divide-y divide-slate-100">
                <% release.tracks.each do |track| %>
                  <tr>
                    <td class="p-2 whitespace-nowrap">
                      <div class="font-medium text-slate-800"><%= track.title %></div>
                    </td>
                  </tr>
                <% end %>
              </tbody>
            </table>
          <% end %>
        </div>
      </div>
    </div>
  <% end %>
</div>
</div>